"use strict";(self.webpackChunkmovies_db_app=self.webpackChunkmovies_db_app||[]).push([[70],{70:(Ue,f,c)=>{c.r(f),c.d(f,{EntranceComponent:()=>Re});var s=c(6895),S=c(7579),l=c(1135),v=c(5121),A=c(727);class $ extends A.w0{constructor(r,t){super()}schedule(r,t=0){return this}}const m={setInterval(n,r,...t){const{delegate:a}=m;return a?.setInterval?a.setInterval(n,r,...t):setInterval(n,r,...t)},clearInterval(n){const{delegate:r}=m;return(r?.clearInterval||clearInterval)(n)},delegate:void 0};var P=c(8737);const x={now:()=>(x.delegate||Date).now(),delegate:void 0};class u{constructor(r,t=u.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,a){return new this.schedulerActionCtor(this,r).schedule(a,t)}}u.now=x.now;const Q=new class L extends u{constructor(r,t=u.now){super(r,t),this.actions=[],this._active=!1}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let a;this._active=!0;do{if(a=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,a){for(;r=t.shift();)r.unsubscribe();throw a}}}(class k extends ${constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var a;if(this.closed)return this;this.state=r;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(i,this.id,t),this}requestAsyncId(r,t,a=0){return m.setInterval(r.flush.bind(r,this),a)}recycleAsyncId(r,t,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return t;null!=t&&m.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(r,t);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let o,a=!1;try{this.work(r)}catch(i){a=!0,o=i||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:a}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(a,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}});var C=c(4482),b=c(5403),Y=c(8505),E=c(9300),R=c(4671);function U(n,r){return n===r}var T=c(4004),M=c(2342),e=c(8256),F=c(7502);let y=(()=>{class n{constructor(t){this.imageConfigService=t,this.imageConfig=this.imageConfigService.imageConfig}transform(t,a){return a?this.imageConfig.secure_base_url+this.imageConfig.poster_sizes[3]+t:this.imageConfig.secure_base_url+this.imageConfig.poster_sizes[1]+t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.v,16))},n.\u0275pipe=e.Yjl({name:"imagePath",type:n,pure:!0,standalone:!0}),n})(),O=(()=>{class n{transform(t){return t?Math.round(t/10*100):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"rating",type:n,pure:!0,standalone:!0}),n})();function q(n,r){if(1&n&&(e._UZ(0,"img",9),e.ALo(1,"imagePath"),e.ALo(2,"imagePath"),e.ALo(3,"imagePath")),2&n){const t=e.oxw(3);e.Q6J("src",e.lcZ(1,3,t.card.poster_path),e.LSH)("srcset",e.lcZ(2,5,t.card.poster_path)+" 1x, "+e.xi3(3,7,t.card.poster_path,!0)+" 2x")("alt",t.card.title)}}const j=function(n){return["/movie/",n]};function z(n,r){if(1&n&&(e.TgZ(0,"a",3),e.YNc(1,q,4,10,"img",4),e.TgZ(2,"span",5),e.ALo(3,"rating"),e._uU(4),e.ALo(5,"rating"),e.qZA(),e.TgZ(6,"span",6)(7,"h2",7),e._uU(8),e.qZA(),e.TgZ(9,"time",8),e.ALo(10,"date"),e._uU(11),e.ALo(12,"date"),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("title",t.card.title)("routerLink",e.VKq(18,j,t.card.id)),e.xp6(1),e.Q6J("ngIf",t.card.poster_path),e.xp6(1),e.uIk("style","--tmbd-rating-value: "+e.lcZ(3,8,t.card.vote_average),e.Ckj),e.xp6(2),e.hij(" ",e.lcZ(5,10,t.card.vote_average),"% "),e.xp6(4),e.Oqu(t.card.title),e.xp6(1),e.uIk("datetime",e.xi3(10,12,t.card.release_date,"y-MM-dd")),e.xp6(2),e.hij(" ",e.xi3(12,15,t.card.release_date,"dd MMM y")," ")}}function B(n,r){if(1&n&&(e.ynx(0),e.YNc(1,z,13,20,"a",2),e.BQk()),2&n){const t=e.oxw(),a=e.MAs(2);e.xp6(1),e.Q6J("ngIf",t.card.title)("ngIfElse",a)}}function G(n,r){if(1&n&&(e._UZ(0,"img",9),e.ALo(1,"imagePath"),e.ALo(2,"imagePath"),e.ALo(3,"imagePath")),2&n){const t=e.oxw(3);e.Q6J("src",e.lcZ(1,3,t.card.poster_path),e.LSH)("srcset",e.lcZ(2,5,t.card.poster_path)+" 1x, "+e.xi3(3,7,t.card.poster_path,!0)+" 2x")("alt",t.card.name)}}const V=function(n){return["/tv/",n]};function X(n,r){if(1&n&&(e.TgZ(0,"a",3),e.YNc(1,G,4,10,"img",4),e.TgZ(2,"span",5),e.ALo(3,"rating"),e._uU(4),e.ALo(5,"rating"),e.qZA(),e.TgZ(6,"span",6)(7,"h2",7),e._uU(8),e.qZA(),e.TgZ(9,"time",8),e.ALo(10,"date"),e._uU(11),e.ALo(12,"date"),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("title",t.card.name)("routerLink",e.VKq(18,V,t.card.id)),e.xp6(1),e.Q6J("ngIf",t.card.poster_path),e.xp6(1),e.uIk("style","--tmbd-rating-value: "+e.lcZ(3,8,t.card.vote_average),e.Ckj),e.xp6(2),e.hij(" ",e.lcZ(5,10,t.card.vote_average),"% "),e.xp6(4),e.Oqu(t.card.name),e.xp6(1),e.uIk("datetime",e.xi3(10,12,t.card.first_air_date,"y-MM-dd")),e.xp6(2),e.hij(" ",e.xi3(12,15,t.card.first_air_date,"dd MMM y")," ")}}function K(n,r){if(1&n&&e.YNc(0,X,13,20,"a",10),2&n){const t=e.oxw();e.Q6J("ngIf",t.card)}}let W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["tmbd-movie-card"]],inputs:{card:"card"},standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[4,"ngIf"],["tvCard",""],["class","card",3,"title","routerLink",4,"ngIf","ngIfElse"],[1,"card",3,"title","routerLink"],["loading","lazy","decoding","async","class","card__poster",3,"src","srcset","alt",4,"ngIf"],[1,"card__rating"],[1,"card__content"],[1,"card__title"],[1,"card__date"],["loading","lazy","decoding","async",1,"card__poster",3,"src","srcset","alt"],["class","card",3,"title","routerLink",4,"ngIf"]],template:function(t,a){1&t&&(e.YNc(0,B,2,2,"ng-container",0),e.YNc(1,K,1,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",a.card)},dependencies:[M.rH,s.uU,y,s.O5,O],styles:['.card[_ngcontent-%COMP%]{display:grid;grid-template-rows:236px 15px 25px max-content;border:1px solid rgba(var(--lightGrey)/1);width:172px;height:100%;overflow:hidden;background-color:rgb(var(--white));box-shadow:0 2px 8px rgb(var(--black)/.1);border-radius:8px}.card__poster[_ngcontent-%COMP%], .card__rating[_ngcontent-%COMP%], .card__content[_ngcontent-%COMP%]{grid-column:1/-1}.card__poster[_ngcontent-%COMP%]{grid-row:1/3;height:100%}.card__rating[_ngcontent-%COMP%]{font-weight:500;font-size:12px;grid-row:2/4;position:relative;display:flex;justify-content:center;align-items:center;margin-left:10px;width:40px;background-color:rgb(var(--black));border-radius:50%;overflow:hidden;color:rgb(var(--white))}.card__rating[_ngcontent-%COMP%]:before{position:absolute;inset:0;background-color:rgb(var(--scrollerGrey));background-image:conic-gradient(rgb(var(--accountGreen)) calc(var(--tmbd-rating-value) * 1%),transparent 0);-webkit-mask-image:radial-gradient(50% 50%,transparent calc(100% - 3px),rgb(var(--black)) calc(100% - 2px),rgb(var(--black)));mask-image:radial-gradient(50% 50%,transparent calc(100% - 3px),rgb(var(--black)) calc(100% - 2px),rgb(var(--black)));content:""}.card__content[_ngcontent-%COMP%]{grid-row:4/-1;padding:5px 10px 10px}.card__title[_ngcontent-%COMP%]{font-weight:400;font-size:16px;color:rgb(var(--black));font-weight:700;line-height:1}.card__date[_ngcontent-%COMP%]{font-weight:500;font-size:12px;display:block;color:rgb(var(--black));margin-top:5px}.card__empty[_ngcontent-%COMP%]{height:100%}']}),n})();function H(n,r){1&n&&(e.TgZ(0,"div",2),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ","\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0435\u0449\u0435"," "))}const D=["*"];let ee=(()=>{class n{constructor(){this.showMore=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["tmbd-scroller"]],inputs:{showMore:"showMore"},standalone:!0,features:[e.jDz],ngContentSelectors:D,decls:3,vars:1,consts:[[1,"scroller"],["class","show-more-card",4,"ngIf"],[1,"show-more-card"]],template:function(t,a){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.YNc(2,H,2,1,"div",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",a.showMore))},dependencies:[s.ez,s.O5],styles:[".scroller[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:scroll}"]}),n})();function te(n,r){1&n&&e.GkF(0)}function ne(n,r){1&n&&e.GkF(0)}function re(n,r){1&n&&e.GkF(0)}const ae=function(n){return["/movie/",n]},h=function(n,r){return{imageUrl:n,alt:r}},w=function(n){return{rating:n}},Z=function(n){return{date:n}};function oe(n,r){if(1&n&&(e.TgZ(0,"a",7),e.YNc(1,te,1,0,"ng-container",8),e.YNc(2,ne,1,0,"ng-container",8),e.TgZ(3,"span",9)(4,"h2",10),e._uU(5),e.qZA(),e.YNc(6,re,1,0,"ng-container",8),e.qZA()()),2&n){const t=e.oxw(2),a=e.MAs(2),o=e.MAs(6),i=e.MAs(8);e.Q6J("title",t.card.title)("routerLink",e.VKq(9,ae,t.card.id)),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(11,h,t.card.poster_path,t.card.title)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(14,w,t.card.vote_average)),e.xp6(3),e.Oqu(t.card.title),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,Z,t.card.release_date))}}function ie(n,r){1&n&&e.GkF(0)}function ce(n,r){1&n&&e.GkF(0)}function se(n,r){1&n&&e.GkF(0)}const le=function(n){return["/tv/",n]};function de(n,r){if(1&n&&(e.TgZ(0,"a",7),e.YNc(1,ie,1,0,"ng-container",8),e.YNc(2,ce,1,0,"ng-container",8),e.TgZ(3,"span",9)(4,"h2",10),e._uU(5),e.qZA(),e.YNc(6,se,1,0,"ng-container",8),e.qZA()()),2&n){const t=e.oxw(2),a=e.MAs(2),o=e.MAs(6),i=e.MAs(8);e.Q6J("title",t.card.name)("routerLink",e.VKq(9,le,t.card.id)),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(11,h,t.card.poster_path,t.card.name)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(14,w,t.card.vote_average)),e.xp6(3),e.Oqu(t.card.name),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,Z,t.card.first_air_date))}}function pe(n,r){1&n&&e.GkF(0)}const ue=function(n){return["/person/",n]};function ge(n,r){if(1&n&&(e.TgZ(0,"a",11),e.YNc(1,pe,1,0,"ng-container",8),e.TgZ(2,"span",9)(3,"h2",10),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2),a=e.MAs(2);e.Q6J("title",t.card.name)("routerLink",e.VKq(5,ue,t.card.id)),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(7,h,t.card.profile_path,t.card.name)),e.xp6(3),e.Oqu(t.card.name)}}function _e(n,r){if(1&n&&(e.ynx(0),e.YNc(1,oe,7,18,"a",5),e.YNc(2,de,7,18,"a",5),e.YNc(3,ge,5,10,"a",6),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","movie"===t.card.media_type),e.xp6(1),e.Q6J("ngIf","tv"===t.card.media_type),e.xp6(1),e.Q6J("ngIf","person"===t.card.media_type)}}function me(n,r){if(1&n&&(e._UZ(0,"img",13),e.ALo(1,"imagePath"),e.ALo(2,"imagePath"),e.ALo(3,"imagePath")),2&n){const t=e.oxw(),a=t.imageUrl,o=t.alt;e.Q6J("src",e.lcZ(1,3,a),e.LSH)("srcset",e.lcZ(2,5,a)+" 1x, "+e.xi3(3,7,a,!0)+" 2x")("alt",o)}}function he(n,r){if(1&n&&e.YNc(0,me,4,10,"img",12),2&n){const t=r.imageUrl;e.oxw();const a=e.MAs(4);e.Q6J("ngIf",t)("ngIfElse",a)}}function fe(n,r){1&n&&e._UZ(0,"div",14)}function ve(n,r){if(1&n&&(e.TgZ(0,"span",15),e.ALo(1,"rating"),e._uU(2),e.ALo(3,"rating"),e.qZA()),2&n){const t=r.rating;e.uIk("style","--tmbd-rating-value: "+e.lcZ(1,2,t),e.Ckj),e.xp6(2),e.hij(" ",e.lcZ(3,4,t),"% ")}}function xe(n,r){if(1&n&&(e.TgZ(0,"time",16),e.ALo(1,"date"),e._uU(2),e.ALo(3,"date"),e.qZA()),2&n){const t=r.release;e.uIk("datetime",e.xi3(1,2,t,"y-MM-dd")),e.xp6(2),e.hij(" ",e.xi3(3,5,t,"dd MMM y")," ")}}let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["tmbd-search-card"]],inputs:{card:"card"},standalone:!0,features:[e.jDz],decls:9,vars:1,consts:[[4,"ngIf"],["poster",""],["emptyImage",""],["rating",""],["date",""],["class","card",3,"title","routerLink",4,"ngIf"],["class","card card--person",3,"title","routerLink",4,"ngIf"],[1,"card",3,"title","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card__content"],[1,"card__title"],[1,"card","card--person",3,"title","routerLink"],["loading","lazy","decoding","async","class","card__poster",3,"src","srcset","alt",4,"ngIf","ngIfElse"],["loading","lazy","decoding","async",1,"card__poster",3,"src","srcset","alt"],[1,"card__empty"],[1,"card__rating"],[1,"card__date"]],template:function(t,a){1&t&&(e.YNc(0,_e,4,3,"ng-container",0),e.YNc(1,he,1,2,"ng-template",null,1,e.W1O),e.YNc(3,fe,1,0,"ng-template",null,2,e.W1O),e.YNc(5,ve,4,6,"ng-template",null,3,e.W1O),e.YNc(7,xe,4,8,"ng-template",null,4,e.W1O)),2&t&&e.Q6J("ngIf",a.card)},dependencies:[s.ez,s.O5,s.tP,s.uU,M.rH,y,O],styles:['.card[_ngcontent-%COMP%]{display:grid;grid-template-rows:235px 15px 25px max-content;border:1px solid rgba(var(--lightGrey)/1);width:172px;height:100%;overflow:hidden;background-color:rgb(var(--white));box-shadow:0 2px 8px rgb(var(--black)/.1);border-radius:8px}.card--person[_ngcontent-%COMP%]{grid-template-rows:1fr max-content}.card__poster[_ngcontent-%COMP%], .card__empty[_ngcontent-%COMP%], .card__rating[_ngcontent-%COMP%], .card__content[_ngcontent-%COMP%]{grid-column:1/-1}.card__poster[_ngcontent-%COMP%]{grid-row:1/3;width:100%;height:100%;object-fit:cover}.card__empty[_ngcontent-%COMP%]{grid-row:1/3;height:100%;background-color:rgb(var(--lightGrey))}.card__rating[_ngcontent-%COMP%]{font-weight:500;font-size:12px;grid-row:2/4;position:relative;display:flex;justify-content:center;align-items:center;margin-left:10px;width:40px;background-color:rgb(var(--black));border-radius:50%;overflow:hidden;color:rgb(var(--white))}.card__rating[_ngcontent-%COMP%]:before{position:absolute;inset:0;background-color:rgb(var(--scrollerGrey));background-image:conic-gradient(rgb(var(--accountGreen)) calc(var(--tmbd-rating-value) * 1%),transparent 0);-webkit-mask-image:radial-gradient(50% 50%,transparent calc(100% - 3px),rgb(var(--black)) calc(100% - 2px),rgb(var(--black)));mask-image:radial-gradient(50% 50%,transparent calc(100% - 3px),rgb(var(--black)) calc(100% - 2px),rgb(var(--black)));content:""}.card__content[_ngcontent-%COMP%]{grid-row:4/-1;padding:5px 10px 10px}.card__title[_ngcontent-%COMP%]{font-weight:400;font-size:16px;color:rgb(var(--black));font-weight:700;line-height:1}.card__date[_ngcontent-%COMP%]{font-weight:500;font-size:12px;display:block;color:rgb(var(--black));margin-top:5px}']}),n})();var d=(()=>{return(n=d||(d={})).Movie="movie",n.Person="person",n.Tv="tv",d;var n})(),be=c(6252);let Te=(()=>{class n{get searchResult$(){return this._searchResult$.asObservable()}get popularMovies$(){return this._popularMovies$.asObservable()}get topRatedMovies$(){return this._topRatedMovies$.asObservable()}get upcomingMovies$(){return this._upcomingMovies$.asObservable()}get popularTv$(){return this._popularTv$.asObservable()}get topRatedTv$(){return this._topRatedTv$.asObservable()}constructor(t){this.apiService=t,this._searchResult$=new l.X([]),this._popularMovies$=new l.X([]),this._topRatedMovies$=new l.X([]),this._upcomingMovies$=new l.X([]),this._popularTv$=new l.X([]),this._topRatedTv$=new l.X([])}searchMovies(t=""){this.apiService.search$("search/multi?query="+t).subscribe(a=>{this._searchResult$.next(a)})}loadPopularMovies(){this.apiService.getMovies$("movie/popular").subscribe(t=>{this._popularMovies$.next(t)})}loadTopRatedMovies(){this.apiService.getMovies$("movie/top_rated").subscribe(t=>{this._topRatedMovies$.next(t)})}loadUpcomingMovies(){this.apiService.getMovies$("movie/upcoming").subscribe(t=>{this._upcomingMovies$.next(t)})}loadPopularTv(){this.apiService.getTvShows$("tv/popular").subscribe(t=>{this._popularTv$.next(t)})}loadTopRatedTv(){this.apiService.getTvShows$("tv/top_rated").subscribe(t=>{this._topRatedTv$.next(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(be.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Me(n,r){1&n&&e._UZ(0,"tmbd-search-card",11),2&n&&e.Q6J("card",r.$implicit)}function ye(n,r){if(1&n&&(e.TgZ(0,"section",7)(1,"h2",8),e._uU(2,"Founded movies and tv"),e.qZA(),e.TgZ(3,"tmbd-scroller")(4,"div",9),e.YNc(5,Me,1,1,"tmbd-search-card",10),e.ALo(6,"async"),e.qZA()()()),2&n){const t=e.oxw().ngIf;e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,1,t))}}function Oe(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ye,7,3,"section",6),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngIf",t.value.length)}}function we(n,r){1&n&&e._UZ(0,"tmbd-search-card",11),2&n&&e.Q6J("card",r.$implicit)}function Ze(n,r){if(1&n&&(e.TgZ(0,"section",7)(1,"h2",8),e._uU(2,"Founded persons"),e.qZA(),e.TgZ(3,"tmbd-scroller")(4,"div",9),e.YNc(5,we,1,1,"tmbd-search-card",10),e.ALo(6,"async"),e.qZA()()()),2&n){const t=e.oxw().ngIf;e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,1,t))}}function Ie(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ze,7,3,"section",6),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngIf",t.value.length)}}function Se(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Oe,2,1,"ng-container",3),e.YNc(2,Ie,2,1,"ng-container",3),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.searchResultMovies$),e.xp6(1),e.Q6J("ngIf",t.searchResultPersons$)}}function Ae(n,r){1&n&&e._UZ(0,"tmbd-movie-card",11),2&n&&e.Q6J("card",r.$implicit)}function $e(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ae,1,1,"tmbd-movie-card",10),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Pe(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"section",7)(2,"h2",8),e._uU(3,"Popular"),e.qZA(),e.TgZ(4,"tmbd-scroller")(5,"div",9),e.YNc(6,$e,2,1,"ng-container",12),e.ALo(7,"async"),e.qZA()()(),e.BQk()),2&n){const t=r.ngIf;e.xp6(6),e.Q6J("ngForOf",e.lcZ(7,1,t))}}function ke(n,r){1&n&&e._UZ(0,"tmbd-movie-card",11),2&n&&e.Q6J("card",r.$implicit)}function Le(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ke,1,1,"tmbd-movie-card",10),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Qe(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"section",7)(2,"h2",8),e._uU(3,"Top Rated"),e.qZA(),e.TgZ(4,"tmbd-scroller")(5,"div",9),e.YNc(6,Le,2,1,"ng-container",12),e.ALo(7,"async"),e.qZA()()(),e.BQk()),2&n){const t=r.ngIf;e.xp6(6),e.Q6J("ngForOf",e.lcZ(7,1,t))}}function Je(n,r){1&n&&e._UZ(0,"tmbd-movie-card",11),2&n&&e.Q6J("card",r.$implicit)}function Ye(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"section",7)(2,"h2",8),e._uU(3,"Upcoming"),e.qZA(),e.TgZ(4,"tmbd-scroller")(5,"div",9),e.YNc(6,Je,1,1,"tmbd-movie-card",10),e.ALo(7,"async"),e.qZA()()(),e.BQk()),2&n){const t=r.ngIf;e.xp6(6),e.Q6J("ngForOf",e.lcZ(7,1,t))}}function Ee(n,r){1&n&&e._uU(0," Loading ...\n")}let Re=(()=>{class n{constructor(t){this.moviesService=t,this.popularMovies$=this.moviesService.popularMovies$,this.topRatedMovies$=this.moviesService.topRatedMovies$,this.popularTv$=this.moviesService.popularTv$,this.topRatedTv$=this.moviesService.topRatedTv$,this.searchInputValue$=new S.x,this.searchResultMovies$=new l.X([]),this.searchResultPersons$=new l.X([]),this.popular$=(0,v.a)([this.popularMovies$,this.popularTv$]),this.rated$=(0,v.a)([this.topRatedMovies$,this.topRatedTv$]),this.upcomingMovies$=this.moviesService.upcomingMovies$,this.isSearchHidden=!0}ngOnInit(){this.moviesService.loadPopularMovies(),this.moviesService.loadTopRatedMovies(),this.moviesService.loadUpcomingMovies(),this.moviesService.loadPopularTv(),this.moviesService.loadTopRatedTv(),this.searchInputValue$.pipe(function J(n,r=Q){return(0,C.e)((t,a)=>{let o=null,i=null,g=null;const _=()=>{if(o){o.unsubscribe(),o=null;const p=i;i=null,a.next(p)}};function Ne(){const p=g+n,I=r.now();if(I<p)return o=this.schedule(void 0,p-I),void a.add(o);_()}t.subscribe((0,b.x)(a,p=>{i=p,g=r.now(),o||(o=r.schedule(Ne,n),a.add(o))},()=>{_(),a.complete()},void 0,()=>{i=o=null}))})}(200),(0,Y.b)(t=>{this.isSearchHidden=t.length<3}),(0,E.h)(t=>t.length>2),function N(n,r=R.y){return n=n??U,(0,C.e)((t,a)=>{let o,i=!0;t.subscribe((0,b.x)(a,g=>{const _=r(g);(i||!n(o,_))&&(i=!1,o=_,a.next(g))}))})}()).subscribe(t=>{this.moviesService.searchMovies(t)}),this.moviesService.searchResult$.pipe((0,T.U)(t=>t.filter(a=>a.media_type===d.Movie||a.media_type===d.Tv))).subscribe(t=>{this.searchResultMovies$.next(t)}),this.moviesService.searchResult$.pipe((0,T.U)(t=>t.filter(a=>a.media_type===d.Person))).subscribe(t=>{this.searchResultPersons$.next(t)})}search(t){this.searchInputValue$.next(t.target.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["tmbd-entrance"]],standalone:!0,features:[e.jDz],decls:13,vars:7,consts:[[1,"hero"],[1,"hero__title"],["type","text","placeholder","Search a movie or a tv show",1,"hero__search",3,"input"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loadingState",""],["class","section",4,"ngIf"],[1,"section"],[1,"section__title"],[1,"grid","grid--scroller"],[3,"card",4,"ngFor","ngForOf"],[3,"card"],[4,"ngFor","ngForOf"]],template:function(t,a){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"p"),e._uU(3,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c."),e.qZA(),e.TgZ(4,"p"),e._uU(5,"\u041c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u0444\u0438\u043b\u044c\u043c\u043e\u0432, \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0438 \u043b\u044e\u0434\u0435\u0439. \u0418\u0441\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0441\u0435\u0439\u0447\u0430\u0441."),e.qZA()(),e.TgZ(6,"input",2),e.NdJ("input",function(i){return a.search(i)}),e.qZA()(),e.YNc(7,Se,3,2,"ng-container",3),e.YNc(8,Pe,8,3,"ng-container",4),e.YNc(9,Qe,8,3,"ng-container",4),e.YNc(10,Ye,8,3,"ng-container",4),e.YNc(11,Ee,1,0,"ng-template",null,5,e.W1O)),2&t){const o=e.MAs(12);e.xp6(7),e.Q6J("ngIf",!a.isSearchHidden),e.xp6(1),e.Q6J("ngIf",a.popular$)("ngIfElse",o),e.xp6(1),e.Q6J("ngIf",a.rated$)("ngIfElse",o),e.xp6(1),e.Q6J("ngIf",a.upcomingMovies$)("ngIfElse",o)}},dependencies:[s.ez,s.sg,s.O5,s.Ov,ee,W,Ce],styles:[".hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:20px 40px;height:304px;background-image:url(hero.81678e2d552e3bfb.jpg);background-size:cover}.hero__title[_ngcontent-%COMP%]{color:rgb(var(--white))}.hero__title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:1.5em;margin-bottom:10px}.hero__title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:2em;font-weight:700}.hero__search[_ngcontent-%COMP%]{margin-top:10px;padding:0 20px;height:50px;border:none;border-radius:100px}"]}),n})()}}]);